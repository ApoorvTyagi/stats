<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="JIRA Tickets Dashboard - View your assigned, reported, and watched tickets">
  <title>JIRA Tickets - Stats Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="https://github.com/tyagiapoorv.png">
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="jira-tickets.css">
</head>

<body>
  <div class="app">
    <!-- Background Effects -->
    <div class="bg-gradient"></div>
    <div class="bg-grid"></div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <a href="index.html" class="back-link">
            <svg class="back-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
            </svg>
          </a>
          <svg class="logo-icon jira-logo" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11.53 2c0 2.4 1.97 4.35 4.35 4.35h1.78v1.7c0 2.4 1.94 4.34 4.34 4.35V2.84a.84.84 0 0 0-.84-.84H11.53zM6.77 6.8a4.36 4.36 0 0 0 4.34 4.34h1.8v1.72a4.36 4.36 0 0 0 4.34 4.34V7.63a.84.84 0 0 0-.84-.84H6.77zM2 11.6c0 2.4 1.95 4.34 4.35 4.35h1.78v1.7A4.36 4.36 0 0 0 12.47 22v-9.57a.84.84 0 0 0-.84-.84H2z"/>
          </svg>
          <h1>JIRA Tickets</h1>
        </div>
        <div class="user-info" id="userInfo">
          <img class="avatar" id="userAvatar" src="" alt="User Avatar">
          <span class="username" id="username">Loading...</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Page Header -->
      <section class="page-header jira-header">
        <div class="page-header-content">
          <div class="page-header-icon jira-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M11.53 2c0 2.4 1.97 4.35 4.35 4.35h1.78v1.7c0 2.4 1.94 4.34 4.34 4.35V2.84a.84.84 0 0 0-.84-.84H11.53zM6.77 6.8a4.36 4.36 0 0 0 4.34 4.34h1.8v1.72a4.36 4.36 0 0 0 4.34 4.34V7.63a.84.84 0 0 0-.84-.84H6.77zM2 11.6c0 2.4 1.95 4.34 4.35 4.35h1.78v1.7A4.36 4.36 0 0 0 12.47 22v-9.57a.84.84 0 0 0-.84-.84H2z"/>
            </svg>
          </div>
          <div class="page-header-text">
            <h2>JIRA Tickets</h2>
            <p>Showing <span id="ticketCount">0</span> tickets</p>
          </div>
        </div>
      </section>

      <!-- Stats Overview Cards -->
      <section class="stats-overview">
        <div class="stat-mini-card" data-type="open">
          <span class="stat-mini-value" id="statOpen">-</span>
          <span class="stat-mini-label">Open</span>
        </div>
        <div class="stat-mini-card" data-type="inProgress">
          <span class="stat-mini-value" id="statInProgress">-</span>
          <span class="stat-mini-label">In Progress</span>
        </div>
        <div class="stat-mini-card" data-type="blocked">
          <span class="stat-mini-value" id="statBlocked">-</span>
          <span class="stat-mini-label">Blocked</span>
        </div>
        <div class="stat-mini-card" data-type="done">
          <span class="stat-mini-value" id="statDone">-</span>
          <span class="stat-mini-label">Done</span>
        </div>
      </section>

      <!-- Tabs Navigation -->
      <section class="tabs-section">
        <div class="tabs-nav">
          <button class="tab-btn active" data-tab="assigned">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
            <span>Assigned to Me</span>
            <span class="tab-count" id="assignedCount">0</span>
          </button>
          <button class="tab-btn" data-tab="reported">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
            </svg>
            <span>Reported by Me</span>
            <span class="tab-count" id="reportedCount">0</span>
          </button>
          <button class="tab-btn" data-tab="watching">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
            </svg>
            <span>Watching</span>
            <span class="tab-count" id="watchingCount">0</span>
          </button>
        </div>
      </section>

      <!-- Filter/Sort Controls -->
      <section class="controls-section">
        <div class="search-box">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          </svg>
          <input type="text" id="searchInput" placeholder="Search tickets...">
        </div>
        <div class="filter-controls">
          <div class="filter-group">
            <label for="priorityFilter">Priority:</label>
            <select id="priorityFilter">
              <option value="">All</option>
              <option value="Critical">Critical</option>
              <option value="High">High</option>
              <option value="Medium">Medium</option>
              <option value="Low">Low</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="typeFilter">Type:</label>
            <select id="typeFilter">
              <option value="">All</option>
              <option value="Bug">Bug</option>
              <option value="Story">Story</option>
              <option value="Task">Task</option>
              <option value="Epic">Epic</option>
            </select>
          </div>
          <div class="sort-controls">
            <label for="sortSelect">Sort:</label>
            <select id="sortSelect">
              <option value="updated">Recently Updated</option>
              <option value="created">Newest First</option>
              <option value="priority">Priority</option>
              <option value="dueDate">Due Date</option>
            </select>
          </div>
        </div>
      </section>

      <!-- Tickets List -->
      <section class="tickets-list-section">
        <div class="tickets-list" id="ticketsList">
          <div class="ticket-placeholder">
            <div class="spinner"></div>
            <span>Loading tickets...</span>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Built with ❤️ for JIRA Statistics</p>
    </footer>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-content">
        <div class="loading-icon">
          <div class="spinner-ring"></div>
        </div>
        <div class="loading-text">
          <span class="loading-message" id="loadingMessage">Loading JIRA tickets...</span>
        </div>
        <div class="loading-fact-container">
          <div class="fact-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
            </svg>
          </div>
          <p class="loading-fact" id="loadingFact">Fetching your JIRA tickets...</p>
        </div>
      </div>
    </div>

    <!-- Error Toast -->
    <div class="toast" id="errorToast">
      <span class="toast-message" id="toastMessage"></span>
      <button class="toast-close" onclick="hideToast()">×</button>
    </div>
  </div>

  <script src="loading-screen.js"></script>
  <script src="jira-tickets.js"></script>
</body>

</html>
